

# [前端面试每日 **3+1**](https://github.com/haizlin/fe-interview)

第1天

- [html] [页面导入样式时，使用link和@import有什么区别？](https://github.com/haizlin/fe-interview/issues/1)
-  [css] [圣杯布局和双飞翼布局的理解和区别，并用代码实现](https://github.com/haizlin/fe-interview/issues/2)
-  [js] [用递归算法实现，数组长度为5且元素的随机数在2-32间不重复的值](https://github.com/haizlin/fe-interview/issues/3)

第2天

- [html] [html的元素有哪些（包含H5）？](https://github.com/haizlin/fe-interview/issues/4)
- [css] [CSS3有哪些新增的特性？](https://github.com/haizlin/fe-interview/issues/5)
- [js] [写一个方法去掉字符串中的空格](https://github.com/haizlin/fe-interview/issues/6)

第3天 

- [html] [HTML全局属性(global attribute)有哪些（包含H5）？](https://github.com/haizlin/fe-interview/issues/7)
- [css] [在页面上隐藏元素的方法有哪些？](https://github.com/haizlin/fe-interview/issues/8)
- [js] [去除字符串中最后一个指定的字符](https://github.com/haizlin/fe-interview/issues/9)

第4天

- [html] [HTML5的文件离线存储怎么使用，工作原理是什么？](https://github.com/haizlin/fe-interview/issues/10)
- [css] [CSS选择器有哪些？哪些属性可以继承？](https://github.com/haizlin/fe-interview/issues/11)
- [js] [写一个方法把下划线命名转成大驼峰命名](https://github.com/haizlin/fe-interview/issues/12)

第5天

- [html] [简述超链接target属性的取值和作用](https://github.com/haizlin/fe-interview/issues/13)
- [css] [CSS3新增伪类有哪些并简要描述](https://github.com/haizlin/fe-interview/issues/14)
- [js] [写一个把字符串大小写切换的方法](https://github.com/haizlin/fe-interview/issues/15)

第6天

- [html] [label都有哪些作用？并举相应的例子说明](https://github.com/haizlin/fe-interview/issues/16)
- [css] [用css创建一个三角形，并简述原理](https://github.com/haizlin/fe-interview/issues/17)
- [js] [写一个去除制表符和换行符的方法](https://github.com/haizlin/fe-interview/issues/18)

第7天 

- [html] [iframe框架都有哪些优缺点？](https://github.com/haizlin/fe-interview/issues/19)
- [css] [简述你对BFC规范的理解](https://github.com/haizlin/fe-interview/issues/20)
- [js] [统计某一字符或字符串在另一个字符串中出现的次数](https://github.com/haizlin/fe-interview/issues/21)


### 第1天 

#### 1.  [html] 页面导入样式时，使用link和@import有什么区别？

在html设计制作中，css有四种引入方式。

方式一： 内联样式
内联样式，也叫行内样式，指的是直接在 HTML 标签中的 style 属性中添加 CSS。
示例：

```html
<div style="display: none;background:red"></div>
```



这通常是个很糟糕的书写方式，它只能改变当前标签的样式，如果想要多个 <div> 拥有相同的样式，你不得不重复地为每个 <div> 添加相同的样式，如果想要修改一种样式，又不得不修改所有的 style 中的代码。很显然，内联方式引入 CSS 代码会导致 HTML 代码变得冗长，且使得网页难以维护。

方式二： 嵌入样式
嵌入方式指的是在 HTML 头部中的 <style> 标签下书写 CSS 代码。
示例：

```html
<head>
    <style>

    .content {
        background: red;
    }

    </style>
</head>
```



嵌入方式的 CSS 只对当前的网页有效。因为 CSS 代码是在 HTML 文件中，所以会使得代码比较集中，当我们写模板网页时这通常比较有利。因为查看模板代码的人可以一目了然地查看 HTML 结构和 CSS 样式。因为嵌入的 CSS 只对当前页面有效，所以当多个页面需要引入相同的 CSS 代码时，这样写会导致代码冗余，也不利于维护。

方式三：链接样式
链接方式指的是使用 HTML 头部的 标签引入外部的 CSS 文件。
示例：

```html
<head>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
```



这是最常见的也是最推荐的引入 CSS 的方式。使用这种方式，所有的 CSS 代码只存在于单独的 CSS 文件中，所以具有良好的可维护性。并且所有的 CSS 代码只存在于 CSS 文件中，CSS 文件会在第一次加载时引入，以后切换页面时只需加载 HTML 文件即可。

方式四：导入样式
导入方式指的是使用 CSS 规则引入外部 CSS 文件。
示例：

```html
<style>
    @import url(style.css);
</style>
```



或者写在css样式中

```css
@charset "utf-8";
@import url(style.css);
*{ margin:0; padding:0;}
.notice-link a{ color:#999;}
```

link和@import的区别？

区别1：link是XHTML标签，除了加载CSS外，还可以定义RSS等其他事务；@import属于CSS范畴，只能加载CSS。

区别2：link引用CSS时，在页面载入时同时加载；@import需要页面网页完全载入以后加载。
所以会出现一开始没有css样式，闪烁一下出现样式后的页面(网速慢的情况下)

区别3：link是XHTML标签，无兼容问题；@import是在CSS2.1提出的，低版本的浏览器不支持。

区别4：link支持使用Javascript控制DOM去改变样式；而@import不支持。

补充：
@import最优写法
@import的写法一般有下列几种：
@import ‘style.css’ //Windows IE4/ NS4, Mac OS X IE5, Macintosh IE4/IE5/NS4不识别
@import “style.css” //Windows IE4/ NS4, Macintosh IE4/NS4不识别
@import url(style.css) //Windows NS4, Macintosh NS4不识别
@import url(‘style.css’) //Windows NS4, Mac OS X IE5, Macintosh IE4/IE5/NS4不识别
@import url(“style.css”) //Windows NS4, Macintosh NS4不识别
由上分析知道，@import url(style.css) 和@import url(“style.css”)是最优的选择，兼容的浏览器最多。从字节优化的角度来看@import url(style.css)最值得推荐。

注意：@import url(xxx.css); 有最大次数的限制，经测试IE6的最大次数是31次，第32个import及以后的都不能生效。虽然最多只能import 31次，但不会影响css里面的其他规则，如body{}的定义还能正常显示。
Firefox 没有发现有import的最大值。 另外，既然纵向import有最大次数限制，却可以通过横向import来继续扩展。

#### 2.  [css] 圣杯布局和双飞翼布局的理解和区别，并用代码实现

[css技巧](https://lhammer.cn/You-need-to-know-css/#/zh-cn/double-wing-layout?v=1)

圣杯布局一般的需求为两边等宽，中间自适应的三栏布局。

双飞翼布局同圣杯布局一样，都为两边等宽，中间自适应的三栏布局。

圣杯布局和双飞翼布局解决问题的方案在前一半是相同的，也就是三栏全部float浮动，但左右两栏加上负margin让其跟中间栏div并排，以形成三栏布局。

不同在于解决”中间栏div内容不被遮挡“问题的思路不一样：圣杯布局，为了中间div内容不被遮挡，将中间div设置了左右padding-left和padding-right后，将左右两个div用相对布局position: relative并分别配合right和left属性，以便左右两栏div移动后不遮挡中间div。

双飞翼布局，为了中间div内容不被遮挡，直接在中间div内部创建子div用于放置内容，在该子div里用margin-left和margin-right为左右两栏div留出位置。多了1个div，少用大致4个css属性（圣杯布局中间divpadding-left和padding-right这2个属性，加上左右两个div用相对布局position: relative及对应的right和left共4个属性，一共6个；而双飞翼布局子div里用margin-left和margin-right共2个属性，6-2=4），个人感觉比圣杯布局思路更直接和简洁一点。

s

#### 3.  [js] 用递归算法实现，数组长度为5且元素的随机数在2-32间不重复的值

```js
function insertArr(arr, i = 0, min = 2, max = 32) {
  const num = Math.max(min, Math.ceil(Math.random() * max))
  if (!arr[arr.length - 1]) {
    if (!arr.includes(num)) { 
      arr[i++] = num
    }
    return insertArr(arr, i) 
  }
  return arr 
}
const arr = new Array(5);
const result = insertArr(arr)
```

```js
function returnArr(array) {
	if (array.length === 5) {
		return array
	} else {
		const num = Math.floor(Math.random()*30 + 2)
		if (array.indexOf(num) === -1) {
			array.push(num)
		}
		return returnArr(array)
	}
}
console.log(returnArr([]))
```
### 第二天

#### 1. [html] [html的元素有哪些（包含H5）？

##### 行内元素：

- a
- b
- span
- strong
- i
- em
- button
- input
- label
- br
- textarea
- select

###### 块元素

- div
- p
- h1-h6
- ol
- ul
- li
- table
- tbody
- td
- tr
- thead
- dl
- dt
- dd

##### H5新增元素

- section
- article
- audio
- video
- hearder
- footer
- small
- canvas

### 2.CSS3有哪些新增的特性？

#####  边框(borders):

- border-radius 圆角
- box-shadow 盒阴影
- border-image 边框图像

#####  背景:

- background-size 背景图片的尺寸
- background_origin 背景图片的定位区域
- background-clip 背景图片的绘制区域

#####  渐变：

- linear-gradient 线性渐变
- radial-gradient 径向渐变

#####  文本效果;

- word-break
- word-wrap
- text-overflow
- text-shadow
- text-wrap
- text-outline
- text-justify

#####  转换：

- 2D转换属性
- transform
- transform-origin
- 2D转换方法
- translate(x,y)
- translateX(n)
- translateY(n)
- rotate(angle)
- scale(n)
- scaleX(n)
- scaleY(n)
- rotate(angle)
- matrix(n,n,n,n,n,n)

##### 3D转换：

*3D转换属性：

- transform
- transform-origin
- transform-style
- 3D转换方法
- translate3d(x,y,z)
- translateX(x)
- translateY(y)
- translateZ(z)
- scale3d(x,y,z)
- scaleX(x)
- scaleY(y)
- scaleZ(z)
- rotate3d(x,y,z,angle)
- rotateX(x)
- rotateY(y)
- rotateZ(z)
- perspective(n)

#####  过渡

- transition

#####  动画

- [@Keyframes](https://github.com/Keyframes)规则
- animation

#####  弹性盒子(flexbox)

#####  多媒体查询[@media](https://github.com/media)

### 3. 写一个方法去掉字符串中的空格

```js
var trim = function(str){
return str.replace(/\s*/g,"");
}
str.replace(/\s*/g,""); //去除字符串内所有的空格
str.replace(/^\s*|\s*$/g,""); //去除字符串内两头的空格
str.replace(/^\s*/,""); //去除字符串内左侧的空格
str.replace(/(\s*$)/g,""); //去除字符串内右侧的空格
```

```js
const str = '  s t  r  '

const POSITION = Object.freeze({
  left: Symbol(),
  right: Symbol(),
  both: Symbol(),
  center: Symbol(),
  all: Symbol(),
})

function trim(str, position = POSITION.both) {
  if (!!POSITION[position]) throw new Error('unexpected position value')
  
  switch(position) {
      case(POSITION.left):
        str = str.replace(/^\s+/, '')
        break;
      case(POSITION.right):
        str = str.replace(/\s+$/, '')
        break;
      case(POSITION.both):
        str = str.replace(/^\s+/, '').replace(/\s+$/, '')
        break;
      case(POSITION.center):
        while (str.match(/\w\s+\w/)) {
          str = str.replace(/(\w)(\s+)(\w)/, `$1$3`)
        }
        break;
      case(POSITION.all):
        str = str.replace(/\s/g, '')
        break;
      default: 
  }
  
  return str
}

const result = trim(str)

console.log(`|${result}|`) //  |s t  r| 
```





### 第三天

#### 1. [html]  HTML全局属性(global attribute)有哪些（包含H5）？

| 属性               | 描述                                                       |
| ------------------ | ---------------------------------------------------------- |
| accesskey          | 设置访问元素的键盘快捷键。                                 |
| class              | 规定元素的类名（classname）                                |
| contenteditableNew | 规定是否可编辑元素的内容。                                 |
| contextmenuNew     | 指定一个元素的上下文菜单。当用户右击该元素，出现上下文菜单 |
| data-*New          | 用于存储页面的自定义数据                                   |
| dir                | 设置元素中内容的文本方向。                                 |
| draggableNew       | 指定某个元素是否可以拖动                                   |
| dropzoneNew        | 指定是否将数据复制，移动，或链接，或删除                   |
| hiddenNew          | hidden 属性规定对元素进行隐藏。                            |
| id                 | 规定元素的唯一 id                                          |
| lang               | 设置元素中内容的语言代码。                                 |
| spellcheckNew      | 检测元素是否拼写错误                                       |
| style              | 规定元素的行内样式（inline style）                         |
| tabindex           | 设置元素的 Tab 键控制次序。                                |
| title              | 规定元素的额外信息（可在工具提示中显示）                   |
| translateNew       | 指定是否一个元素的值在页面载入时是否需要翻译               |

详见[MDN](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Global_attributes)

#### 2. [css] 在页面上隐藏元素的方法有哪些？

- display: none
- opacity: 0
- visibility: hidden
- z-index: -9999999999999
- transform: scale(0)
- margin-left: -100%
- position: relative; left: -100%
- width: 0; height: 0;

#### 3. [js] 去除字符串中最后一个指定的字符

```js
function delLast(str,target) {
  let reg =new RegExp(`${target}(?=([^${target}]*)$)`)
  return str.replace(reg,'')
}
```

```
var filterLast = function(str, del) {
    const index = str.lastIndexOf(del);
    if(index > -1) {
        str.splice(index, 1);
        return str.join('');
    }
    return str;
}
```



 ## 447

- [html] [使用a标签的download属性下载文件会有跨域问题吗？如何解决？](https://github.com/haizlin/fe-interview/issues/2604)
- [css] [怎样把单位cm转换成px呢（在打印时有时会用到）？](https://github.com/haizlin/fe-interview/issues/2605)
- [js] [写一个单向链数据结构的 js 实现并标注复杂度](https://github.com/haizlin/fe-interview/issues/2606)
- [软技能] [说下JWT的认证过程](https://github.com/haizlin/fe-interview/issues/2607)

### Q:使用a标签的download属性下载文件会有跨域问题吗？如何解决？

A: 会有跨域问题。如果url指向同源资源，是正常的。

如果url指向第三方资源，download会失效，表现和不使用download时一致——浏览器能打开的文件，浏览器会直接打开，不能打开的文件，会直接下载。浏览器打开的文件，可以手动下载。

#### 通过点击下载多媒体文件(图片/视频/文件等)

解决方案一：将文件打包为.zip/.rar等浏览器不能打开的文件下载。

解决方案二：通过后端转发，后端请求第三方资源，返回给前端，前端使用file-saver等工具保存文件。

如果url指向的第三方资源配置了CORS，download属性无效，但可以获取文件下载到本地，无法修改修改文件名。

#### 借助HTML5 Blob或转换base64实现文本信息文件下载

```
const downloadRes = async (url, name) => {
    let response = await fetch(url)
    // 内容转变成blob地址
    let blob = await response.blob()
    // 创建隐藏的可下载链接
    let objectUrl = window.URL.createObjectURL(blob)
    let a = document.createElement('a')
    //地址
    a.href = objectUrl
    //修改文件名
    a.download = name
    // 触发点击
    document.body.appendChild(a)
    a.click()
    //移除
    setTimeout(() => document.body.removeChild(a), 1000)
}
```

或者

```
export const downloadImg = async (url, name) => {
    var canvas = document.createElement('canvas'),
        ctx = canvas.getContext('2d'),
        img = new Image();
    img.crossOrigin = 'Anonymous';
    img.onload = function() {
        canvas.height = img.height;
        canvas.width = img.width;
        ctx.drawImage(img, 0, 0);
        var dataURL = canvas.toDataURL('image/png');
        let a = document.createElement('a');
        a.href = dataURL;
        a.download = name;
        document.body.appendChild(a);
        a.click();
        setTimeout(() => {
            document.body.removeChild(a);
            canvas = null;
        }, 1000);
    };
    img.src = url;
};
```

上面方法如果是请求下载跨域的文件，依然会有跨域问题，解决的办法就是让后端返回对应文件的二进制数据，前端接受转成文件。[vue.js关于文件下载跨域的解决方法](https://www.jianshu.com/p/477e3a4a9a60)

