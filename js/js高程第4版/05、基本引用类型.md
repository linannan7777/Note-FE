[TOC]

# 基本引用类型

引用值(或者对象)是某个特定引用类型的实例。在 ECMAScript 中，引用类型是把数据和功能组织到一起的结构

对象被认为是某个特定引用类型的实例。新对象通过使用new操作符后跟一个构造函数(constructor) 来创建



## Date

ECMAScript 的 Date 类型参考了 Java 早期版本中的 java.util.Date。为此，Date 类型将日期保存为自协调世界时(UTC，Universal Time Coordinated)时间1970年1月1日午夜(零时)至今所经过的毫秒数。

```
let now = new Date(); // 使用 new 操作符来调用 Date 构造函数来创建日期对象
```

在不给 Date 构造函数传参数的情况下，创建的对象将保存当前日期和时间。



**Date.parse()**  方法接收一个表示日期的字符串参数，尝试将这个字符串转换为表示该日期的毫秒数。支持的日期格式：

-  “月/日/年”，如"5/23/2019";
-   “月名 日, 年”，如"May 23, 2019";
-   “周几月名日年时:分:秒时区”，如"Tue May 23 2019 00:00:00 GMT-0700";
-   ISO 8601扩展格式“YYYY-MM-DDTHH:mm:ss.sssZ”，如2019-05-23T00:00:00(只适用于兼容 ES5 的实现)。

如果传给 Date.parse()的字符串并不表示日期，则该方法会返回 NaN。 

如果直接把表示日期的字符串传给 Date 构造函数，那么 Date 会在后台调用 Date.parse()。



**Date.UTC()** 方法也返回日期的毫秒表示，但使用的是跟 Date.parse()不同的信息来生成这个值。传给 **Date.UTC()** 的参数是年、零起点月数(1 月是 0，2 月是 1，以此类推)、日(1~31)、时(0~23)、分、秒和毫秒。这些参数中，只有前两个(年和月)是必需的。如果不提供日，那么默认为 1 日。其他参数的默认值都是 0。

与 Date.parse()一样，Date.UTC()也会被 Date 构造函数隐式调用，但有一个区别:这种情况下创建的是本地日期，不是 GMT 日期。



 **Date.now()** 方法，返回表示方法执行时日期和时间的毫秒数。

与其他类型一样，Date 类型重写了 toLocaleString()、toString()和 valueOf()方法。但与其他类型不同，重写后这些方法的返回值不一样。

Date 类型的 toLocaleString()方法返回与浏览器运行的本地环境一致的日期和时间。这通常意味着格式中包含针对时间的AM(上午)或PM(下午)，但不包含时区信息(具体格式可能因浏览器而不同)。

toString()方法通常返回带时区信息的日期和时间，而时间也是以 24 小时制(0~23)表示的。

Date 类型的 valueOf()方法根本就不返回字符串，这个方法被重写后返回的是日期的毫秒表示。因此，操作符(如小于号和大于号)可以直接使用它返回的值。

### 日期格式化方法

-  toDateString()显示日期中的周几、月、日、年(格式特定于实现);
-   toTimeString()显示日期中的时、分、秒和时区(格式特定于实现);
-   toLocaleDateString()显示日期中的周几、月、日、年(格式特定于实现和地区);
-   toLocaleTimeString()显示日期中的时、分、秒(格式特定于实现和地区);
-   toUTCString()显示完整的 UTC 日期(格式特定于实现)。



## RegExp

正则表达式使用类似 Perl 的简洁语法来创建:

```
let expression = /pattern/flags;
```

正则表达式的 pattern(模式)可以是任何简单或复杂的正则表达式，包括字符类、限定符、分组、向前查找和反向引用。每个正则表达式可以带零个或多个 flags(标记)，用于控制正则表达式的行为。

匹配模式的标记：

  - g:全局模式，表示查找字符串的全部内容，而不是找到第一个匹配的内容就结束。   
  - i:不区分大小写，表示在查找匹配时忽略 pattern 和字符串的大小写。
  - m:多行模式，表示查找到一行文本末尾时会继续查找。
  - y:粘附模式，表示只查找从 lastIndex 开始及之后的字符串。 
  - u:Unicode 模式，启用 Unicode 匹配。 
  - s:dotAll 模式，表示元字符.匹配任何字符(包括\n 或\r)。 

所有元字符在模式中必须转义。

正则表达式也可以使用 RegExp 构造函数来创建，它接收两个参数:模式字符串和(可选的)标记字符串。所有元字符都必须二次转义，包括转义字符列。

```
let pattern2 = new RegExp("[bc]at", "i");
```

### **RegExp**实例属性

- global:布尔值，表示是否设置了 g 标记。 
- ignoreCase:布尔值，表示是否设置了 i 标记。 
- unicode:布尔值，表示是否设置了 u 标记。 
- sticky:布尔值，表示是否设置了 y 标记。 
- lastIndex:整数，表示在源字符串中下一次搜索的开始位置，始终从 0 开始。 
- multiline:布尔值，表示是否设置了 m 标记。 
- dotAll:布尔值，表示是否设置了 s 标记。 
- source:正则表达式的字面量字符串(不是传给构造函数的模式字符串)，没有开头和结尾的斜杠。 
- flags:正则表达式的标记字符串。始终以字面量而非传入构造函数的字符串模式形式返回(没有前后斜杠)。 

### RegExp实例方法

#### exec()

exec()主要用于配合捕获组使用。这个方法只接收一个参数，即要应用模式的字符串。如果找到了匹配项，则返回包含第一个匹配信息的数组;如果没找到匹配项，则返回null。返回的数组虽然是 Array 的实例，但包含两个额外的属性:index 和 input。index 是字符串中匹配模式的起始位置，input 是要查找的字符串。这个数组的第一个元素是匹配整个模式的字符串，其他元素是与表达式中的捕获组匹配的字符串。如果模式中没有捕获组，则数组只包含一个元素。

#### test()

 test()，接收一个字符串参数。如果输入的文本与模式匹配，则参数返回true，否则返回false。这个方法适用于只想测试模式是否匹配，而不需要实际匹配内容的情况。 



无论正则表达式是怎么创建的，继承的方法 toLocaleString()和 toString()都返回正则表达式的字面量表示



## 原始值包装类型